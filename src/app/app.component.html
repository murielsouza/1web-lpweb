<h1 class="h1"> Gerenciador de eventos: WEB1 <br>
    <button (click)="selecionar(true)" class="btn btn-sm btn-primary">
        <i class="fa fa-plus-circle"></i>
        Novo
    </button>
</h1>
<div class="container">
    <div *ngIf="excluir_ok" class="alert alert-success">
        <strong>Sucesso!</strong> O evento foi excluído com sucesso.
    </div>

    <table class="table table-hover table-bordered">
        <thead class="thead-light">
        <tr>
            <th>SIGLA</th>
            <th>Nome</th>
            <th>Data Inicio</th>
            <th>Data Fim</th>
            <th>Prazo submissão</th>
            <th width="200">Ações</th>
        </tr>
        </thead>
    <tbody>
    <tr *ngFor= "let evento of eventos" [class.table-active]="editando == evento">
        <td>
            <i *ngIf="editando == evento" class="fa fa-pencil-square"></i>
            {{evento.sigla}}
        </td>
        <td>{{evento.nome}}</td>
        <td>{{evento.dataInicio}}</td>
        <td>{{evento.dataFim}}</td>
        <td>{{evento.prazo}}</td>
        <td>
            <button class="btn btn-sm btn-danger" (click)="excluir(evento)">
                <i class="fa fa-trash"></i> Excluir
            </button>
            <button class="btn btn-sm btn-primary" (click)="editar(evento)" (click)="selecionar(true)">
                <i class="fa fa-pencil-square"></i> Editar
            </button>
        </td>
    </tr>
    </tbody>
    </table>
        <form *ngIf="selecionado == true" #cadastro="ngForm" (submit)="salvar()">

            <h1> Cadastrar Evento</h1>
            <p>Use este formulário para cadastrar ou editar um evento.</p>

            <div *ngIf="salvar_ok || editar_ok" class="alert alert-success">
                <strong>Sucesso!</strong> O evento foi cadastrado ou atualizado com sucesso.
            </div>
            
            <div class="form-group">
                <label for="sigla">Sigla</label><br>
                <input type="text" id="sigla" name="sigla" class="form-control"
                       [(ngModel)]="sigla"
                       required>
            </div>

            <div class="form-group">
                <label for="nome">Nome</label><br>
                <input type="text" id="nome" name="nome" class="form-control"
                       [(ngModel)]="nome"
                       required>
            </div>

            <div class="form-group">
                <label for="prazo">Prazo</label><br>
                <input type="date" id="prazo" name="prazo" class="form-control"
                       [(ngModel)]="prazo"
                       required>
            </div>

            <div class="form-group">
                <label for="url">URL</label><br>
                <input type="url" id="url" name="url" class="form-control"
                       [(ngModel)]="url"
                       required>
            </div>

            <div class="form-group">
                <label for="dataInicio">Data de Início do Evento</label><br>
                <input type="date" id="dataInicio" name="dataInicio" class="form-control"
                       [(ngModel)]="dataInicio"
                       required>
            </div>

            <div class="form-group">
                <label for="dataFim">Data de Termino do Evento</label><br>
                <input type="date" id="dataFim" name="dataFim" class="form-control"
                       [(ngModel)]="dataFim"
                       required>
            </div>

            <div class="form-group">
                <label for="select">Ordem</label><br>
                <select multiple class="form-control" id="select" name="ordem" [(ngModel)]="ordem">
                    <option value="Palestrante">Palestrante</option>
                    <option value="Coordenador">Coordenador</option>
                    <option value="Convidado">Convidado</option>
                    <option value="Organização">Organização</option>
                    <option value="Comissão Especial">Comissão Especial</option>
                </select>
            </div>

            <div class="text-right">
                <button type="submit" class="btn btn-success" [disabled]="!cadastro.valid">
                    <i class="fa fa-save"></i>
                    Salvar
                </button>

                <button type="reset" class="btn btn-secondary" (click)="cancelar()">
                    <i class="fa fa-ban"></i>
                    Cancelar
                </button>
            </div>
        </form>
</div>


